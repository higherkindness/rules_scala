#!/bin/bash -e
. "$(dirname "$0")"/../../common.sh

function test ()  {
  out=$(bazel test ":mixed_$1")
  echo "$out" | grep 'should pop values in last-in-first-out order'
  echo "$out" | grep 'JUnit  many success'
  echo "$out" | grep 'Dummy.bar: OK, proved property.'
  bazel test ":mixed_$1" --test_arg=--verbosity=HIGH | grep 'org.scalacheck.ScalaCheckFramework: 1 tests'
  bazel test ":mixed_$1" --test_arg=--verbosity=MEDIUM | grep -v 'org.scalacheck.ScalaCheckFramework: 1 tests'
}

test "2_13"
test "2_12"
